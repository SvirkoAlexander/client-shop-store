{"ast":null,"code":"import _slicedToArray from\"/Users/sasha/Desktop/Shop-headphone/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import RelatedProducts from\"./RelatedProducts/RelatedProducts\";import\"./SingleProduct.scss\";import{FaCartPlus,FaFacebookF,FaInstagram,FaLinkedin,FaTwitter}from\"react-icons/fa\";import{useContext,useState}from\"react\";import{useParams}from\"react-router-dom\";import useFetch from\"../../hooks/useFetch\";import{Context}from\"../../utils/context\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var SingleProduct=function SingleProduct(){var _useState=useState(1),_useState2=_slicedToArray(_useState,2),quantity=_useState2[0],setQuantity=_useState2[1];var _useParams=useParams(),id=_useParams.id;var _useFetch=useFetch(\"/api/products?populate=*&[filters][id]=\".concat(id)),data=_useFetch.data;var _useContext=useContext(Context),handleAddToCart=_useContext.handleAddToCart;var increment=function increment(){setQuantity(function(prevState){return prevState+1;});};var decrement=function decrement(){setQuantity(function(prevState){if(prevState===1)return 1;return prevState-1;});};if(!data)return;var product=data.data[0].attributes;return/*#__PURE__*/_jsx(\"div\",{className:\"single-product-main-content\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"layout\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"single-product-page\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"left\",children:/*#__PURE__*/_jsx(\"img\",{src:process.env.REACT_APP_DEV_URL+product.img.data[0].attributes.url,alt:\"img product\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"right\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"name\",children:product.title}),/*#__PURE__*/_jsx(\"span\",{className:\"price\",children:product.price}),/*#__PURE__*/_jsx(\"span\",{className:\"desc\",children:product.desc}),/*#__PURE__*/_jsxs(\"div\",{className:\"cart-buttons\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"quantity-buttons\",children:[/*#__PURE__*/_jsx(\"span\",{onClick:decrement,children:\"-\"}),/*#__PURE__*/_jsx(\"span\",{children:quantity}),/*#__PURE__*/_jsx(\"span\",{onClick:increment,children:\"+\"})]}),/*#__PURE__*/_jsxs(\"button\",{className:\"add-to-cart-button\",onClick:function onClick(){handleAddToCart(data.data[0],quantity);setQuantity(1);},children:[/*#__PURE__*/_jsx(FaCartPlus,{size:20}),\"ADD TO CART\"]})]}),/*#__PURE__*/_jsx(\"span\",{className:\"divider\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-item\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"text-bold\",children:[\"\\u041A\\u0430\\u0442\\u0435\\u0433\\u043E\\u0440\\u0438\\u044F :\",\" \",/*#__PURE__*/_jsx(\"span\",{children:product.categories.data[0].attributes.title})]}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-bold\",children:[\"\\u0421\\u0432\\u044F\\u0437\\u0430\\u0442\\u044C\\u0441\\u044F :\",/*#__PURE__*/_jsxs(\"span\",{className:\"social-icons\",children:[/*#__PURE__*/_jsx(FaFacebookF,{size:16}),/*#__PURE__*/_jsx(FaTwitter,{size:16}),/*#__PURE__*/_jsx(FaInstagram,{size:16}),/*#__PURE__*/_jsx(FaLinkedin,{size:16})]})]})]})]})]}),/*#__PURE__*/_jsx(RelatedProducts,{productId:id,categoryId:product.categories.data[0].id})]})});};export default SingleProduct;","map":{"version":3,"names":["RelatedProducts","FaCartPlus","FaFacebookF","FaInstagram","FaLinkedin","FaTwitter","useContext","useState","useParams","useFetch","Context","jsx","_jsx","jsxs","_jsxs","SingleProduct","_useState","_useState2","_slicedToArray","quantity","setQuantity","_useParams","id","_useFetch","concat","data","_useContext","handleAddToCart","increment","prevState","decrement","product","attributes","className","children","src","process","env","REACT_APP_DEV_URL","img","url","alt","title","price","desc","onClick","size","categories","productId","categoryId"],"sources":["/Users/sasha/Desktop/Shop-headphone/client/src/components/SingleProduct/SingleProduct.jsx"],"sourcesContent":["import RelatedProducts from \"./RelatedProducts/RelatedProducts\";\nimport \"./SingleProduct.scss\";\n\nimport {\n  FaCartPlus,\n  FaFacebookF,\n  FaInstagram,\n  FaLinkedin,\n  FaTwitter,\n} from \"react-icons/fa\";\n\nimport { useContext, useState } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport useFetch from \"../../hooks/useFetch\";\nimport { Context } from \"../../utils/context\";\n\nconst SingleProduct = () => {\n  const [quantity, setQuantity] = useState(1);\n  const { id } = useParams();\n\tconst { data } = useFetch(`/api/products?populate=*&[filters][id]=${id}`);\n\t\n\n\tconst {handleAddToCart } = useContext(Context);\n\t\n\n\n  const increment = () => {\n    setQuantity((prevState) => prevState + 1);\n  };\n\n  const decrement = () => {\n    setQuantity((prevState) => {\n      if (prevState === 1) return 1;\n      return prevState - 1;\n    });\n  };\n\n  if (!data) return;\n  const product = data.data[0].attributes;\n  return (\n    <div className=\"single-product-main-content\">\n      <div className=\"layout\">\n        <div className=\"single-product-page\">\n          <div className=\"left\">\n            <img\n              src={\n                process.env.REACT_APP_DEV_URL +\n                product.img.data[0].attributes.url\n              }\n              alt=\"img product\"\n            />\n          </div>\n          <div className=\"right\">\n            <span className=\"name\">{product.title}</span>\n            <span className=\"price\">{product.price}</span>\n            <span className=\"desc\">{product.desc}</span>\n\n            <div className=\"cart-buttons\">\n              <div className=\"quantity-buttons\">\n                <span onClick={decrement}>-</span>\n                <span>{quantity}</span>\n                <span onClick={increment}>+</span>\n              </div>\n\t\t\t\t\t\t\t<button className=\"add-to-cart-button\" onClick={() => {\n\t\t\t\t\t\t\t\thandleAddToCart(data.data[0], quantity)\n\t\t\t\t\t\t\t\tsetQuantity(1)\n\t\t\t\t\t\t\t}}>\n                <FaCartPlus size={20} />\n                ADD TO CART\n              </button>\n            </div>\n\n            <span className=\"divider\" />\n\n            <div className=\"info-item\">\n              <span className=\"text-bold\">\n                Категория :{\" \"}\n                <span>{product.categories.data[0].attributes.title}</span>\n              </span>\n\n              <span className=\"text-bold\">\n                Связаться :\n                <span className=\"social-icons\">\n                  <FaFacebookF size={16} />\n                  <FaTwitter size={16} />\n                  <FaInstagram size={16} />\n                  <FaLinkedin size={16} />\n                </span>\n              </span>\n            </div>\n          </div>\n        </div>\n        <RelatedProducts\n          productId={id}\n          categoryId={product.categories.data[0].id}\n        />\n      </div>\n    </div>\n  );\n};\n\nexport default SingleProduct;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}